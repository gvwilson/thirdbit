<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link rel="me" href="https://mastodon.social/@gvwilson">
<link rel="shortcut icon" type="image/x-icon" href="../favicon.ico">
<link rel="alternate" type="application/atom+xml" title="The Third Bit" href="../atom.xml">
<script defer data-domain="third-bit.com" src="https://plausible.io/js/plausible.js"></script>
    <script src="https://kit.fontawesome.com/4eee35f757.js"></script>
    <link rel="stylesheet" href="../assets/thirdbit.css">
    <link rel="stylesheet" href="../assets/page.css">
    
<title>The Third Bit Blog</title>

    
  </head>
  <body>
    <nav>
  <div class="row underline">
    <div class="col-2 left">
      <a class="navlink" href="../">Home</a>
    </div>
    <div class="col-10 right">
      <a class="navlink" href="../about/">about</a>
      <a class="navlink" href="../blog/">blog</a>
      <a class="navlink" href="../selected/">selected</a>
      <a class="navlink" href="../talks/">talks</a>
      <a class="navlink" href="../projects/">projects</a>
      <a class="navlink" href="../ideas/">ideas</a>
      <a class="navlink" href="../bib/">bibliography</a>
      <a class="navlink" href="../fiction/">fiction</a>
    </div>
  </div>
</nav>
    <main>
      
<h1>Blog</h1>


<table class="centered">
  <tbody>
    <tr>
      <td><a href="../archive/2020">2020</a></td>
      <td><a href="../archive/2021">2021</a></td>
      <td><a href="../archive/2022">2022</a></td>
      <td><a href="../archive/2023">2023</a></td>
      <td><a href="../archive/2024">2024</a></td>
      <td><a href="../archive/2025">2025</a></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href="../archive/2010">2010</a></td>
      <td><a href="../archive/2011">2011</a></td>
      <td><a href="../archive/2012">2012</a></td>
      <td><a href="../archive/2013">2013</a></td>
      <td><a href="../archive/2014">2014</a></td>
      <td><a href="../archive/2015">2015</a></td>
      <td><a href="../archive/2016">2016</a></td>
      <td><a href="../archive/2017">2017</a></td>
      <td><a href="../archive/2018">2018</a></td>
      <td><a href="../archive/2019">2019</a></td>
    </tr>
    <tr>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td><a href="../archive/2004">2004</a></td>
      <td><a href="../archive/2005">2005</a></td>
      <td><a href="../archive/2006">2006</a></td>
      <td><a href="../archive/2007">2007</a></td>
      <td><a href="../archive/2008">2008</a></td>
      <td><a href="../archive/2009">2009</a></td>
    </tr>
  </tbody>
</table>


<article class="post">
  <h2 class="post-title">
    <a href="../2025/01/04/meetings/">
      Meetings
    </a>
  </h2>
  <p><time datetime="2025-01-04" class="post-date">2025-01-04</time></p>
  <p>The <a href="../2025/01/03/time-management/">previous post</a> explained how to be productive individually,
but what about being productive with others?
The most important thing is running meetings efficiently,
and the key to doing that is to distinguish between:</p>
<ul>
<li>
<p>Status meetings
    for keeping everyone up to date on what everyone else is doing
    and for making simple decisions when the options are well understood.</p>
</li>
<li>
<p>Discussion meetings
    for weighing alternatives and making complex decisions.</p>
</li>
<li>
<p>Co-working sessions like brainstorming sessions and programming sprints
    that are devoted to the content of the project rather than its operation.</p>
</li>
</ul>
<h2>Status Meetings</h2>
<p>Every team should have a short weekly status meeting.
One way to organize these is
to create a table in a shared document like the one below.
Everyone adds a few bullet points to their row in the table
at least half an hour before the meeting starts
so that the whole team can mull everything over.
If anyone wants to discuss something,
they highlight it by adding a comment.
The meeting moderator then goes through the highlighted items one by one,
spending no more than a couple of minutes on each;
anything that requires more time is deferred to a discussion meeting</p>
<table>
<thead>
<tr>
<th>Person</th>
<th>Progress</th>
<th>Plans</th>
<th>Problems</th>
</tr>
</thead>
<tbody>
<tr>
<td>Ren</td>
<td>Parsing OCTL records</td>
<td>Tag OCTL records in DVC</td>
<td>Duplicate OCTL tags?</td>
</tr>
<tr>
<td></td>
<td>Deployed progress bar patch</td>
<td>Help onboard Silvia</td>
<td></td>
</tr>
<tr>
<td>Mikka</td>
<td>Refactored PostgreSQL connector</td>
<td>#156: handle records with NULL timestamp</td>
<td>Clarify authorship guidelines</td>
</tr>
<tr>
<td></td>
<td>Patched database tests</td>
<td>#171: auto-archive duplicate records</td>
<td></td>
</tr>
<tr>
<td>Sanjay</td>
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
<tr>
<td>Jess</td>
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
</tbody>
</table>
<p>Another way to run a status meeting is to review issues that people have closed in the past week
or are actively working on.
&ldquo;Actively&rdquo; is the key word here,
and in my experience,
this method only works if someone is responsible for handling issue triage before each meeting.
The biggest advantage of using issues is that there&rsquo;s no extra work;
the disadvantage is that there&rsquo;s no record later on of what people were doing at any particular time.</p>
<h2>Decision Meetings</h2>
<p>Decision meetings are for issues that will have more long-term impact on the project
or that team members disagree about.
Since the stakes are higher,
they need more structure.
(See <a href="https://www.youtube.com/watch?v=PtewOjRy-1U">this video</a> for a long version of the rules below.)</p>
<dl>
<dt>Decide if there actually needs to be a meeting.</dt>
<dd>If the only purpose is to share information,
send a brief email instead:
most people can read faster than they can speak.</dd>
<dt>Write an agenda.</dt>
<dd>If nobody cares enough about the meeting to prepare
a point-form list of what&rsquo;s to be discussed,
the meeting probably doesn&rsquo;t need to happen.
(Note that &ldquo;the agenda is all the open issues in our GitHub repo&rdquo; doesn&rsquo;t count.)</dd>
<dt>Include timings in the agenda.</dt>
<dd>Doing this helps prevent early items stealing time from later ones.
The first estimates with any new group are inevitably optimistic,
so expect to revise them upward for subsequent meetings.
But don&rsquo;t have second or third
meeting just because the first one ran over time: instead, try to figure out
<em>why</em> it ran over and fix the underlying problem.</dd>
<dt>Select a moderator.</dt>
<dd>Put one person in charge of keeping items on time,
selecting the next person to speak,
chiding people who are having side conversations or checking email,
and asking people who are talking too much to get to the point.
The moderator should <em>not</em> do all the talking:
in fact,
the moderator will talk less in a well-run meeting than most other participants.</dd>
<dt>Prioritize.</dt>
<dd>Tackle the most important issues first, even if they&rsquo;re the longest,
because the little ones always take more time than you expect.</dd>
<dt>Require politeness.</dt>
<dd>No one gets to be rude,
no one gets to ramble,
and if someone goes off topic,
it&rsquo;s the moderator&rsquo;s job to say, &ldquo;Let&rsquo;s discuss that elsewhere.&rdquo;</dd>
<dt>No interruptions.</dt>
<dd>This rule is a special case of the one above,
since treating other people with respect is the sincerest form of politeness.
Participants should raise a hand (physically or electronically)
when they want to speak.
The moderator should keep track of the queue
and give each person time in turn.</dd>
<dt>No distractions.</dt>
<dd>Side conversations make meetings less efficient
because nobody can actually pay attention to two things at once.
More importantly,
if someone is checking their email or texting a friend during a meeting,
it&rsquo;s a clear signal that they don&rsquo;t think the speaker or their work is important.
This doesn&rsquo;t mean a complete ban on technology—people may need accessibility aids
or be waiting for a call about childcare—but by default
phones should be face down and laptops should be closed
during in-person meetings.</dd>
<dt>Take minutes.</dt>
<dd>As discussed below,
someone other than the moderator should take
point-form notes
about the most important information that was shared
and about every decision that was made or every task that was assigned to someone.</dd>
<dt>End early.</dt>
<dd>If the meeting is scheduled for 10:00–11:00,
aim to end at 10:50 to give people a break before whatever they&rsquo;re doing next.</dd>
</dl>
<p>As soon as the meeting is over,
add the minutes to the project&rsquo;s wiki,
version control repository,
or shared cloud drive.
Please don&rsquo;t email minutes to everyone:
our inboxes are full enough,
and the more places new team members need to search in order to find things,
the more likely they are to miss something important.</p>
<p>Sharing the minutes ensures that:</p>
<dl>
<dt>People who weren&rsquo;t at the meeting can follow what&rsquo;s going on.</dt>
<dd>We all have to juggle tasks from several projects or courses,
which means that sometimes we can&rsquo;t make it to meetings.
Checking a shared record is more accurate and more efficient than asking a colleague,
&ldquo;What did I miss?&rdquo;</dd>
<dt>Everyone can check what was actually said or promised.</dt>
<dd>Accidentally or not, people often remember things differently;
writing them down gives everyone a chance to correct mistakes
and misinterpretations.</dd>
<dt>People can be held accountable.</dt>
<dd>Whoever has to draw up the agenda for the next meeting
can start with the action items from the previous one.</dd>
</dl>
<p>If you would like to become better at sharing information and making decisions,
there is no better place to start than [<a href="https://isbnsearch.org/isbn/9781119049715">Brookfield2016</a>],
which catalogs fifty different techniques for managing discussions
and explains when and how each is useful.</p>
<div class="callout">
<h3>Are you a blowfish or a clam?</h3>
<p><a href="https://coast.noaa.gov/ddb/">NOAA&rsquo;s guide</a> to dealing with disruptive behaviors
has useful labels and even more useful advice
for handling people who may send meetings off course.</p>
</div>
</article>

<article class="post">
  <h2 class="post-title">
    <a href="../2025/01/03/time-management/">
      Time Management
    </a>
  </h2>
  <p><time datetime="2025-01-03" class="post-date">2025-01-03</time></p>
  <p>My <a href="../2025/01/02/crunch-mode/">previous post</a> explained why people are most productive
when they work at a steady pace and get lots of rest,
and [<a href="https://dl.acm.org/doi/10.1145/1584322.1584325">Edwards2009</a>] found that
starting assignments early and working consistently predicted good grades.
However,
while people in industry joke that having two bosses means living in hell,
students usually answer to four or five professors
whom don&rsquo;t coordinate due dates across their courses.
I remember a week where I had two major assignments due,
two mid-terms to write,
and a bad cold;
what can you do when this happens to you?</p>
<p>The best solution—or more honestly, the least bad—is to prioritize carefully.
Get a piece of paper and draw a 3×3 grid.
The X axis is effort: label its divisions &ldquo;minutes&rdquo;, &ldquo;hours&rdquo;, and &ldquo;days&rdquo;.
The Y axis is time: label it &ldquo;low&rdquo;, &ldquo;medium&rdquo;, and &ldquo;high&rdquo;.
You should wind up with something like this:</p>
<p><img src="../files/2025/effort-importance.svg" alt="effort-importance grid"></p>
<p>Next,
put everything you need to do somewhere on the grid,
and then throw away the high-effort, low-importance items in the bottom right—you
aren&rsquo;t going to get to those.
You can then start assembling the other items into a schedule,
starting with the upper-left corner.
These are the things that will give the highest return on invested time;
more importantly,
starting with these means that if you&rsquo;ve under-estimated effort,
you will still deliver <em>something</em>.</p>
<p>The tricky items are the ones on the diagonal.
Should you tackle one thing that is high effort and high importance
or three things that are individually less important
but require the same total effort?
Laying things out on a grid can&rsquo;t answer that question,
but at least it can tell you what the question is.</p>
<div class="callout">
<p>How to prioritize:
always finish first the tasks that will allow other people to continue/start/finish their work.
<br>
— <a href="https://yabellini.netlify.app/">Yanina Bellini Saibene</a></p>
</div>
<p>If any task on your list is more than an hour long,
break it down into smaller pieces and prioritize those separately.
Figuring out what those pieces are can take time,
so don&rsquo;t be embarrassed to make &ldquo;plan XYZ&rdquo; a task in its own right.
And remember that the future is approaching at a rate of 24 hours per day:
if something is going to take thirty hours to finish,
you had better allow at least five working days for it,
which means you&rsquo;d better start at least that far ahead of the deadline.</p>
<p>The point of all this organization and preparation is
to be able to immerse yourself in your problem.
[<a href="https://www.harpercollins.com/products/flow-mihaly-csikszentmihalyi">Csikszentmihalyi1991</a>] popularized the term flow for this;
athletes call it &ldquo;being in the zone&rdquo;,
while musicians talk about losing themselves in what they&rsquo;re playing.
The good news is that you&rsquo;re much more productive in this state
than when you&rsquo;re multi-tasking.
The bad news is that
it takes anywhere from several seconds to several minutes
to get back into this state after an interruption [<a href="https://link.springer.com/article/10.1007/s11219-010-9104-9">Parnin2010</a>, <a href="https://dl.acm.org/doi/10.1145/2702123.2702156">Borst2015</a>].
In other words,
if you are interrupted half a dozen times per hour
you are <em>never</em> at your productive peak.
Ironically,
the cost of self-interruptions may be even worse than the cost for external interruptions [<a href="https://dl.acm.org/doi/10.1145/3210459.3210471">Abad2018</a>].</p>
<div class="callout">
<p><strong><em>Open offices suck</em></strong></p>
<p>Open offices were created
so that (mostly male) managers could keep an eye on (mostly female) office workers,
and to reduce air conditioning costs [<a href="https://isbnsearch.org/isbn/9780140169126">Eley1995</a>].
They lower productivity in every other way we can measure [<a href="https://royalsocietypublishing.org/doi/10.1098/rstb.2017.0239">Bernstein2018</a>];
sadly,
the same is true of other interruption-rich environments
like your favorite coffee shop.
If you really want to be productive,
you should avoid both.</p>
</div>
<p>Finally,
you will be more productive in the long run if your back doesn&rsquo;t ache,
and being away from the keyboard
gives your brain a chance to reflect on what you&rsquo;ve just been doing.
You should therefore take a five-minute break every hour.
Checking email doesn&rsquo;t count:
get up and stretch,
refill your water bottle,
or go and restack the dishwasher.
You&rsquo;ll be amazed at how often you can solve a problem that&rsquo;s been baffling you for an hour
by taking a short walk.</p>
</article>

<article class="post">
  <h2 class="post-title">
    <a href="../2025/01/02/crunch-mode/">
      Crunch Mode
    </a>
  </h2>
  <p><time datetime="2025-01-02" class="post-date">2025-01-02</time></p>
  <p>I&rsquo;m supervising some undergraduate students at the University of Toronto this semester.
It&rsquo;s the first time I&rsquo;ve done this in almost 15 years,
and it&rsquo;s giving me a chance to re-think and re-write the advice I used to give
when I was doing this regularly.</p>
<div class="callout">
<p>My starting point is [<a href="http://dx.doi.org/10.1109/icse.2017.20">Sedano2017</a>],
which found that software development projects have nine types of waste:
building the wrong feature or product,
mismanaging the backlog,
rework,
unnecessarily complex solutions,
extraneous cognitive load,
psychological distress,
waiting and multitasking,
knowledge loss,
and ineffective communication.
<em>None of these are software issues,</em>
so if you only think about the code in your project and not about the people writing it,
everything will take longer and hurt more than it needs to.</p>
</div>
<p>I used to brag about the hours I was working.
Not in so many words, of course—I had <em>some</em> social skills—but
I&rsquo;d show up for work around noon,
unshaven and yawning,
and casually mention how I&rsquo;d been up until 6:00 a.m. working on some monster bug.</p>
<p>Looking back,
I can&rsquo;t remember who I was trying to impress.
Instead,
what I remember is how much of the code I wrote in those all-nighters I threw away
once I&rsquo;d had some sleep.
My mistake was to confuse &ldquo;long hours&rdquo; with &ldquo;getting things done&rdquo;.
You can&rsquo;t produce software (or anything else) without doing some work,
but you can easily do lots of work without producing anything of value.
Scientific study of overwork goes back to at least the 1890s—see
[<a href="https://igda.org/resources-archive/why-crunch-mode-doesnt-work-six-lessons-2005/">Robinson2005</a>] for a short, readable summary.
The most important results are:</p>
<ol>
<li>
<p>Working more than eight hours a day for more than a couple of weeks of time
    lowers your total productivity,
    not just your hourly productivity—i.e., you get less done <em>in total</em> in crunch mode
    than when you work regular hours.</p>
</li>
<li>
<p>Working over 21 hours in a stretch
    increases the odds of you making a catastrophic error
    just as much as being legally drunk.</p>
</li>
</ol>
<p>These facts have been verified through hundreds of experiments
over the course of more than a century,
including some on novice software developers [<a href="https://ieeexplore.ieee.org/document/8357494">Fucci2020</a>].
The data behind them is as solid as the data linking smoking to lung cancer.
However,
while most smokers will at least acknowledge that their habit is killing them,
people in the software industry still talk and act as if
they were somehow immune to science.
To quote Robinson&rsquo;s article:</p>
<div class="callout">
<p>When Henry Ford famously adopted a 40-hour workweek in 1926,
he was bitterly criticized by members of the National Association of Manufacturers.
But his experiments,
which he&rsquo;d been conducting for at least 12 years,
showed him clearly that cutting the workday from ten hours to eight hours—and
the workweek from six days to five days—increased
total worker output and reduced production cost…
the core of his argument was that reduced shift length meant more output.</p>
<p>…many studies,
conducted by businesses, universities, industry associations and the military,
…support the basic notion that,
for most people,
eight hours a day,
five days per week,
is the best sustainable long-term balance point between output and exhaustion.
Throughout the 30s, 40s, and 50s, these studies were apparently conducted by the hundreds;
and by the 1960s,
the benefits of the 40-hour week were accepted almost beyond question in corporate America.
In 1962,
the Chamber of Commerce even published a pamphlet extolling the productivity gains of reduced hours.</p>
<p>But, somehow, Silicon Valley didn&rsquo;t get the memo…</p>
</div>
<p>I spent two years at a data visualization startup.
Three months before our first release,
the head of development &ldquo;asked&rdquo; us to start coming in on Saturdays.
We were already pulling one late night a week at that point
(without overtime pay—our boss seemed to think that
ten dollars&rsquo; worth of pizza
was adequate compensation for four hours of work)
and most of us were also working at least a couple of hours at home in the evenings.
To no one&rsquo;s surprise,
we missed our &ldquo;can&rsquo;t miss&rdquo; deadline by ten weeks,
and had to follow up our 1.0 release with a 1.1 and then a 1.2
to fix the crash-and-lose-data bugs we&rsquo;d created.
We were all zombies, and zombies can&rsquo;t code.</p>
<p>Hours like these are sadly still normal in many parts of the software industry,
and may actually be worse now that so many people are working from home.
Designing and building software is a creative act that requires a clear head;
it only takes a couple of minutes to create a bug
that will take hours to track down later.
As Robinson writes:</p>
<div class="callout">
<p>Productivity varies over the course of the workday,
with the greatest productivity occurring in the first four to six hours.
After enough hours,
productivity approaches zero;
eventually it becomes negative.</p>
</div>
<p>It&rsquo;s hard to quantify the productivity of programmers, testers, and UI designers
[<a href="https://link.springer.com/book/10.1007/978-1-4842-4221-6">Sadowski2019</a>, <a href="https://dl.acm.org/doi/10.1145/3454122.3454124">Forsgren2021</a>],
but five eight-hour days per week has been proven to maximize long-term total output
in every industry that has ever been studied.
There is no reason to believe that ours is any different.</p>
<p>Ah, you say, but that&rsquo;s <em>long-term</em> output.
What about short bursts now and then,
like pulling an all-nighter to meet a deadline?
That&rsquo;s been studied too,
and the results aren&rsquo;t pleasant [<a href="https://arxiv.org/abs/1805.02544">Fucci2018</a>].
Your ability to think drops by 25 points for each 24 hours you&rsquo;re awake.
Put it another way,
the average person&rsquo;s IQ is only 75 after one all-nighter,
which puts them in the bottom 5% of the population.
Two all nighters in a row and their effective IQ is 50—the level at which
people are considered incapable of independent living.</p>
<p>The catch in all of this is that people usually don&rsquo;t notice their abilities declining.
Just like drunks who think they&rsquo;re still able to drive,
people who are deprived of sleep don&rsquo;t realize that they&rsquo;re not finishing their sentences (or thoughts).
They certainly don&rsquo;t realize that they&rsquo;re calling functions with parameters in the wrong order
or that the reason the tests are failing is that
they&rsquo;ve forgotten to redeploy the application—again.</p>
<p>The first and most important lesson is therefore
to think about what&rsquo;s more important—how much you produce
or how much of a martyr you appear to be—and to pace yourself accordingly.</p>
</article>

<article class="post">
  <h2 class="post-title">
    <a href="../2024/12/30/cross-one-off-my-list/">
      Cross One Off My List
    </a>
  </h2>
  <p><time datetime="2024-12-30" class="post-date">2024-12-30</time></p>
  <p>Thanks to a recommendation from <a href="https://jefframnani.com/">Jeff Ramnani</a>,
I borrow <a href="https://laurspilca.com/">Laurenţiu Spilcă</a>&rsquo;s <a href="https://www.manning.com/books/troubleshooting-java"><em>Troubleshooting Java</em></a>
from my local public library,
and am very glad I did.
The book delivers exactly what the title offers:
a step-by-step guide to finding and fixing problems in Java applications
using everything from breakpointing debuggers to profilers and specialized visualization tools.
I hope peopple are inspired by it to write equivalent books for JavaScript, Python, and other languages,
but even if that doesn&rsquo;t happen,
I&rsquo;m glad to be able to cross one book off my <a href="../ideas/not-on-the-shelves/2024/">unwritten list</a>.</p>
<div class="center">
  <img src="../files/2024/troubleshooting-java.jpg" alt="cover of 'Troubleshooting Java'" width="25%">
</div>
</article>

<article class="post">
  <h2 class="post-title">
    <a href="../2024/12/29/jimmy-carter/">
      Jimmy Carter
    </a>
  </h2>
  <p><time datetime="2024-12-29" class="post-date">2024-12-29</time></p>
  <div class="center">
  <p>
    <img src="../files/2024/jimmy-carter.webp" alt="Jimmy Carter" width="50%">
    <br>
    1924 - 2024
  </p>
</div>
</article>

<article class="post">
  <h2 class="post-title">
    <a href="../2024/12/28/being-a-great-teacher/">
      Being a Great Teacher
    </a>
  </h2>
  <p><time datetime="2024-12-28" class="post-date">2024-12-28</time></p>
  <p>Three keys to being a great teacher:</p>
<ol>
<li>
<p>Have students who are safe and well nourished,
    not victims of systemic discrimination,
    and live in supportive home environments.</p>
</li>
<li>
<p>Work in an educational system that has stable long-term funding
    and is administered by people who respect your professional expertise.</p>
</li>
<li>
<p>Ignore posts that put all the responsibility for being a great teacher on you
    rather than saying that collective action to achieve #1 and #2 are what will actually make a difference.</p>
</li>
</ol>
</article>

<article class="post">
  <h2 class="post-title">
    <a href="../2024/12/28/engagement/">
      Engagement
    </a>
  </h2>
  <p><time datetime="2024-12-28" class="post-date">2024-12-28</time></p>
  <p>A junk &ldquo;study&rdquo; about &ldquo;ghost engineers&rdquo; popped up a few weeks ago claiming that 9.5% of software developers do nothing.
The author, Yegor Denisov-Blanch, has consistently dodged questions about methodology and refused to share data,
but I&rsquo;m willing to bet his work has been seen by more practitioners in the past 30 days
than every careful, peer-reviewed piece of empirical software engineering research published this year.
I think it would be very cool if an enterprising grad student proved this,
i.e.,
estimated the number of times Denisov-Blanch&rsquo;s work has been viewed or mentioned
and compared it to the number of views and mentions of work from ICSE or <em>Empirical Software Engineering</em>.</p>
<p>More importantly,
I think the software engineering research community should ask themselves
why stuff like this gets so much attention when their work doesn&rsquo;t,
and ask themselves what they should do in order to have that kind of impact.
Public health researchers are doing this kind of critical reflection right now
to figure out how anti-vaccination conspiracy theories have displaced actual science in so many people&rsquo;s minds
so that they can fight back;
if people who study software and software developers want to do more than just observe—if they want
to have some actual impact—I think they would do well to look at why bullshit finds such a large audience.</p>
</article>

<article class="post">
  <h2 class="post-title">
    <a href="../2024/12/27/not-very-scalable/">
      Not Very Scalable
    </a>
  </h2>
  <p><time datetime="2024-12-27" class="post-date">2024-12-27</time></p>
  <p>I have been teaching some informal lessons to colleagues based on
the Python version of <a href="../sdxpy/"><em>Software Design by Example</em></a>,
and one thing that has bothered me is the sizing of the diagrams.
It&rsquo;s not too bad in a chapter like <a href="../sdxpy/glob/">this one</a>,
but when those same SVG files are displayed in <a href="../sdxpy/glob/slides/#2">slides like these</a>
they are a bit hard to read.</p>
<p>I thought the solution would be simple:
&ldquo;SVG&rdquo; stands for &ldquo;Scalable Vector Graphics&rdquo;,
so I should just be able to apply a scaling factor via CSS to enlarge the diagrams
when they are displayed in slide files.
(Modifying the source isn&rsquo;t an option:
they are all carefully sized for the print edition,
and I&rsquo;m not going to duplicate 107 diagrams to solve what is in reality a minor annoyance.)</p>
<p>But what scaling factor should I apply and how should I apply it?
I can&rsquo;t specify an absolute width or a page-relative fraction:
the source diagrams have different intrinsic sizes,
so either of those options would result in different diagrams being scaled by different amounts.
Doing this wouldn&rsquo;t actually be so bad if they just contained lines,
but they all have text as well,
and if some of the diagrams are effectively scaled from (for example) 12-point to 15-point
while others are scaled from 12-point to 18-point,
it really stands out.</p>
<p>What&rsquo;s worse is that when I scale up the SVG by a fixed amount (e.g., 120%)
it overlaps with the text below it.
A bit of poking around revealed that the browser lays out the text on the slide
using the SVG&rsquo;s original (intrinsic) size,
and <em>then</em> resizes the SVG.
It isn&rsquo;t noticeable if the figure is the last or only thing on the slide,
but that&rsquo;s not always the case.</p>
<p>The best solution so far comes from <a href="https://www.linkedin.com/in/camerondecoster/">Cameron DeCoster</a>,
and relies on the fact that all of these SVG images are contained in <code>figure</code> elements:</p>
<div class="highlight"><pre><span></span><code><span class="p">:</span><span class="nd">root</span><span class="w"> </span><span class="p">{</span>
<span class="w">     </span><span class="nv">--image-width</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="kt">%</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">figure</span><span class="p">.</span><span class="nc">fullwidth</span><span class="w"> </span><span class="nt">img</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">width</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">img</span><span class="p">.</span><span class="nc">centered</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">display</span><span class="p">:</span><span class="w"> </span><span class="kc">block</span><span class="p">;</span>
<span class="w">    </span><span class="k">margin-left</span><span class="p">:</span><span class="w"> </span><span class="kc">auto</span><span class="p">;</span>
<span class="w">    </span><span class="k">margin-right</span><span class="p">:</span><span class="w"> </span><span class="kc">auto</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">img</span><span class="p">.</span><span class="nc">image</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">width</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--image-width</span><span class="p">);</span>
<span class="p">}</span>

<span class="nt">img</span><span class="p">.</span><span class="nc">scaled-img</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c">/*</span>
<span class="c">    Setting the width to a percentage increases the size of the of</span>
<span class="c">    the image, but the width of the image is calculated using the</span>
<span class="c">    intrinsic size during the initial layout phase and doesn&#39;t get</span>
<span class="c">    updated as the image is scaled up.</span>
<span class="c">    (https://developer.mozilla.org/en-US/docs/Glossary/Intrinsic_Size)</span>
<span class="c">    */</span>
<span class="w">    </span><span class="k">width</span><span class="p">:</span><span class="w"> </span><span class="mi">120</span><span class="kt">%</span><span class="p">;</span>

<span class="w">    </span><span class="c">/*</span>
<span class="c">    Setting the width to an explicit number provides an</span>
<span class="c">    independent container element and everything works correctly.</span>
<span class="c">    */</span>
<span class="w">    </span><span class="c">/* width: 500px; */</span>

<span class="w">    </span><span class="c">/* </span>
<span class="c">    Using a scale transform increases the size of the image but</span>
<span class="c">    doesn&#39;t update the page layout.  As such, the image element</span>
<span class="c">    will begin to overlap surrounding elements at higher scales.</span>
<span class="c">    */</span>
<span class="w">    </span><span class="c">/* transform: scale(1.6); */</span>
<span class="p">}</span>
</code></pre></div>
<p>It&rsquo;s still not perfect:
as the image below shows,
the rescaled figure is no longer centered.
As Cameron explains:</p>
<blockquote>
<p>The centering issue is due to the fact that there&rsquo;s a cyclic dependency between two elements:
the image and the container.
Using flexbox on the figure with center justified content means that
the content of the container (the image) will set the width.
However, we&rsquo;re using a percentage for the width on the image,
which depends on the width of the parent (the container).
The W3C resolves this as stated <a href="https://www.w3.org/TR/css-sizing-3/#cyclic-percentage-contribution">here</a>.
The result is that the initial width calculation is performed using the original size of the image,
then the container is centered,
then the image is scaled.
Unfortunately,
that means that the image centering calculation is done with a different width than the image we see,
and things look wonky.</p>
</blockquote>
<div class="center">
<img src="../files/2024/decoster-css.png" alt="DeCoster CSS example" width="90%">
</div>

<p>SVG is now 25 years old.
I think &ldquo;scale this up&rdquo; ought to be a lot easier than it is,
but my real gripe is that I have no idea how the average person
would ever figure this out.
If you want to play around with a small example,
please check out <a href="https://github.com/gvwilson/resize-demo">this repository</a>.</p>
</article>


    </main>
    <footer>
  &copy; 2004-2025 <a href="../about/">Greg Wilson</a>
  <a href="mailto:gvwilson@third-bit.com"><img src="../assets/icons/envelope.svg" alt="email" class="footer-icon"></a>
  <a href="https://www.linkedin.com/in/greg-wilson-a26510b6/"><img src="../assets/icons/linkedin.svg" alt="LinkedIn" class="footer-icon"></a>
  <a href="https://mastodon.social/@gvwilson"><img src="../assets/icons/mastodon.svg" alt="Mastodon" class="footer-icon"></a>
  <a href="https://github.com/gvwilson"><img src="../assets/icons/github.svg" alt="GitHub" class="footer-icon"></a>
  <a href="https://www.youtube.com/channel/UCbDQ7FIeYB3FHRADAjUjfrg"><img src="../assets/icons/youtube.svg" alt="YouTube" class="footer-icon"></a>
  <a href="../bib/"><img src="../assets/icons/orcid.svg" alt="ORCID" class="footer-icon"></a>
  <a href="../atom.xml"><img src="../assets/icons/rss.svg" alt="RSS feed" class="footer-icon"></a>
  <a href="../license/"><img src="../assets/icons/cc-by.svg" alt="license" class="footer-icon"></a>
  <a href="../colophon/"><img src="../assets/icons/pencil.svg" alt="colophon" class="footer-icon"></a>
  <a href="../cv/"><img src="../assets/icons/file.svg" alt="CV" class="footer-icon"></a>
</footer>
  </body>
</html>