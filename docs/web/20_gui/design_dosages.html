<!DOCTYPE html>
<html>
  <head>
    <title>Templated Plate Editor with Dosages</title>
    <script src="../static/alpine.js" defer></script>
    <link rel="stylesheet" href="../static/page.css">
  </head>
  <body>
    <h1>Templated Plate Editor with Dosages</h1>
    <div
      class="row"
      x-init="$watch('current_treatment, current_dosage', () => {
        if (current_treatment === '') {
          current_dosage = '';
        } else if (current_dosage === '') {
          current_dosage = dosages[0];
        }
        if ((current_treatment === '') && (current_dosage) === '') {
          current_fill = '';
        } else {
          current_fill = `${current_treatment} / ${current_dosage}`;
        }
      })"
      x-data="{
        treatments: ['CQZ-1718', 'CQA-986', 'CQA-940', '', ],
        dosages: ['5μL', '10μL', '20μL', '50μL', ],
        current_treatment: '',
        current_dosage: '',
        current_fill: '',
        data: {
          A1: '',B1: '',C1: '',D1: '',A2: '',B2: '',C2: '',D2: '',A3: '',B3: '',C3: '',D3: '',A4: '',B4: '',C4: '',D4: '',}
      }"
    >
      <div id="controls" class="col-2 shaded">
        <h2>Controls</h2>
        <h3>Treatments</h3>
          <label><input type="radio" name="current_treatment" value="CQZ-1718" x-model="current_treatment"> CQZ-1718</label>
          <br/>
          <label><input type="radio" name="current_treatment" value="CQA-986" x-model="current_treatment"> CQA-986</label>
          <br/>
          <label><input type="radio" name="current_treatment" value="CQA-940" x-model="current_treatment"> CQA-940</label>
          <br/>
          <label><input type="radio" name="current_treatment" value="" x-model="current_treatment"> </label>
          <h3>Dosages</h3>
          <label><input type="radio" name="current_dosage" value="5μL" x-model="current_dosage"> 5μL</label>
          <br/>
          <label><input type="radio" name="current_dosage" value="10μL" x-model="current_dosage"> 10μL</label>
          <br/>
          <label><input type="radio" name="current_dosage" value="20μL" x-model="current_dosage"> 20μL</label>
          <br/>
          <label><input type="radio" name="current_dosage" value="50μL" x-model="current_dosage"> 50μL</label>
          </div>
      <div class="col-10">
        <h2 class="center">Plate</h2>
        <table id="plate">
          <tr>
            <th></th>
            <th>A</th>
            <th>B</th>
            <th>C</th>
            <th>D</th>
            </tr>
          <tr>
              <th>1</th>
                <td
                  id="A1"
                  x-text="data['A1']"
                  @click="data['A1'] = current_fill"
                ></td>
                <td
                  id="B1"
                  x-text="data['B1']"
                  @click="data['B1'] = current_fill"
                ></td>
                <td
                  id="C1"
                  x-text="data['C1']"
                  @click="data['C1'] = current_fill"
                ></td>
                <td
                  id="D1"
                  x-text="data['D1']"
                  @click="data['D1'] = current_fill"
                ></td>
            </tr>
          <tr>
              <th>2</th>
                <td
                  id="A2"
                  x-text="data['A2']"
                  @click="data['A2'] = current_fill"
                ></td>
                <td
                  id="B2"
                  x-text="data['B2']"
                  @click="data['B2'] = current_fill"
                ></td>
                <td
                  id="C2"
                  x-text="data['C2']"
                  @click="data['C2'] = current_fill"
                ></td>
                <td
                  id="D2"
                  x-text="data['D2']"
                  @click="data['D2'] = current_fill"
                ></td>
            </tr>
          <tr>
              <th>3</th>
                <td
                  id="A3"
                  x-text="data['A3']"
                  @click="data['A3'] = current_fill"
                ></td>
                <td
                  id="B3"
                  x-text="data['B3']"
                  @click="data['B3'] = current_fill"
                ></td>
                <td
                  id="C3"
                  x-text="data['C3']"
                  @click="data['C3'] = current_fill"
                ></td>
                <td
                  id="D3"
                  x-text="data['D3']"
                  @click="data['D3'] = current_fill"
                ></td>
            </tr>
          <tr>
              <th>4</th>
                <td
                  id="A4"
                  x-text="data['A4']"
                  @click="data['A4'] = current_fill"
                ></td>
                <td
                  id="B4"
                  x-text="data['B4']"
                  @click="data['B4'] = current_fill"
                ></td>
                <td
                  id="C4"
                  x-text="data['C4']"
                  @click="data['C4'] = current_fill"
                ></td>
                <td
                  id="D4"
                  x-text="data['D4']"
                  @click="data['D4'] = current_fill"
                ></td>
            </tr>
          </table>
      </div>
    </div>
  </body>
</html>
